!function(t){function e(e){for(var i,n,s=e[0],o=e[1],l=e[2],p=0,d=[];p<s.length;p++)n=s[p],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);for(c&&c(e);d.length;)d.shift()();return h.push.apply(h,l||[]),a()}function a(){for(var t,e=0;e<h.length;e++){for(var a=h[e],i=!0,s=1;s<a.length;s++){var o=a[s];0!==r[o]&&(i=!1)}i&&(h.splice(e--,1),t=n(n.s=a[0]))}return t}var i={},r={0:0},h=[];function n(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=i,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var s=window.webpackJsonp=window.webpackJsonp||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var c=o;h.push([10,1]),a()}({1:function(t,e,a){"use strict";var i=class{constructor(t,e,a,i,r){this.BarHeight=i,this.BarNumberCoordinateY=r,this.BarNumber=t,this.BarLabel=e,this.BarCoordinateX=a}};class r{constructor(){this.icon="",this.key="",this.label=[],this.name="",this.term="",this.unit="",this.value=[]}}var h=class{constructor(t,e,a){this.BarLabelCoordinateY=0,this.BarGroupLavelCoordinateY=0,this.BarMagine=10,this.BarMaxWidth=30,this.BarWidth=30,this.BarGroups=[],this.GraphData=new r,t.dataset.forEach(t=>{t.key==a&&(this.GraphData=t)}),Math.round(e/this.GraphData.value.length)-this.BarMagine<this.BarMaxWidth?this.BarWidth=Math.round(e/this.GraphData.value.length)-this.BarMagine:this.BarMagine=Math.round(e/this.GraphData.value.length)-this.BarWidth,this.Bars=[]}generateBarData(t,e,a,r,h){for(let n=0;n<this.GraphData.value.length;n++){const s=r+this.BarMagine+(this.BarWidth+this.BarMagine)*n;let o,l;this.GraphData.value[n]>=0?(o=-t*this.GraphData.value[n]/a[a.length-1],l=h+o-8):(o=e*this.GraphData.value[n]/a[0],l=h+o+15);const c=new i(this.GraphData.value[n],this.GraphData.label[n],s,o,l);this.Bars.push(c)}}};var n=class{constructor(t,e,a,i,n,s,o){this.GraphXAxisCoordinateY=0,this.NegativeGraphHeight=0,this.PositiveGraphHeight=0,this.ScaleY=[],this.OriginalData=s,this.Content=t,this.Height=t.clientHeight,this.Width=t.clientWidth,this.LeftMagine=n,this.RightMagine=a,this.TopMagine=e,this.LowerMagine=i,this.GraphStartCoordinateX=this.LeftMagine,this.GraphExndCoordinateX=this.Width-this.RightMagine,this.GraphHeight=this.Height-this.TopMagine-this.LowerMagine,this.GraphWidth=this.Width-this.LeftMagine-this.RightMagine,this.BarLabelCoordinateY=this.Height-this.LowerMagine+10,this.BarGroupLavelCoordinateY=this.BarLabelCoordinateY+15,this.GraphData=new r,s.dataset.forEach(t=>{t.key==o&&(this.GraphData=t)});this.ScaleY=this.makeYaxis(this.MiniValue,this.MaxValue,10),console.log(this.ScaleY),this.GraphXAxisCoordinateY=this.Height-this.LowerMagine;for(let t=0;t<this.ScaleY.length;t++)0==this.ScaleY[this.ScaleY.length-t-1]&&(this.GraphXAxisCoordinateY=this.TopMagine+Math.ceil(this.GraphHeight*(t+1)/this.ScaleY.length));this.PositiveGraphHeight=this.GraphXAxisCoordinateY-this.TopMagine,this.NegativeGraphHeight=this.GraphHeight-this.GraphXAxisCoordinateY,this.BarSet=new h(this.OriginalData,this.GraphWidth,o),this.BarSet.generateBarData(this.PositiveGraphHeight,this.NegativeGraphHeight,this.ScaleY,this.LeftMagine,this.GraphXAxisCoordinateY)}get MiniValue(){return Math.ceil(this.GraphData.value.reduce((t,e)=>Math.min(t,e)))}get MaxValue(){return Math.ceil(this.GraphData.value.reduce((t,e)=>Math.max(t,e)))}makeYaxis(t,e,a=10){let i=[];t==e&&(t-=10,e+=10);a<2?a=2:a>2&&(a-=2);let r=(e-t)/a,h=Math.floor(Math.log10(r)),n=Math.pow(10,h),s=Math.floor(r/n+.5)*n,o=s*Math.floor(t/s),l=s*Math.ceil(e/s),c=o;for(;i.push(c),c+=s,!(c>l););return i}};const s="#ccc",o="#000";e.a=class{constructor(t){this.keisenMargine=50,this.barBoxWidth=0,this.rightMargin=0,this.maxGraphWidth=30,this.yearLabel="",this.Term={Monthly:"m",Quorter:"q"},this.n={x:10,y:10};const{container:e,originalData:a,targetKey:i,LeftGraphAreaMagine:r=50,RightGraphAreaMagine:h=50,TopGraphAreaMagine:s=50,LowerGraphAreaMagine:o=50}=t;this.GraphArea=new n(e,s,h,o,r,a,i),this.GraphXAxisCoordinateY=0,this.canvases=[],this.overlay={canvas:document.createElement("canvas"),context:null},this.chart={canvas:document.createElement("canvas"),context:null},this.grid={canvas:document.createElement("canvas"),context:null},this._create()}_create(){this.overlay.context=this.overlay.canvas.getContext("2d"),this.canvases.push(this.overlay.canvas),this.chart.context=this.chart.canvas.getContext("2d"),this.canvases.push(this.chart.canvas),this.grid.context=this.grid.canvas.getContext("2d"),this.canvases.push(this.grid.canvas),this.canvases.reverse(),this.canvases.forEach(t=>{var e;null===(e=this.GraphArea.Content)||void 0===e||e.appendChild(t)}),this.initial(),this.overlay.canvas.addEventListener("mousemove",t=>{this.drow(t,this.grid.context)})}initial(){this.chart.canvas.width=this.GraphArea.Width,this.chart.canvas.height=this.GraphArea.Height,this.grid.canvas.width=this.GraphArea.Width,this.grid.canvas.height=this.GraphArea.Height,this.overlay.canvas.width=this.GraphArea.Width,this.overlay.canvas.height=this.GraphArea.Height,this.drawBar(this.chart.context,this.chart.canvas)}writeYAxis(t,e,a,i){null!=t&&(t.fillStyle="#0063B1",t.font="12px sans-serif",t.textAlign="end",t.fillText(i.toString(),e,a))}drawBar(t,e){if(null==t)return;const a=this.GraphArea.BarSet.Bars.length;this.barBoxWidth=Math.round(this.GraphArea.GraphWidth/a)-this.GraphArea.BarSet.BarMagine,this.rightMargin=this.GraphArea.Width-(this.keisenMargine+(this.barBoxWidth+this.GraphArea.BarSet.BarMagine)*a-this.barBoxWidth),this.drawGentenKeisen(t);for(let e=0;e<a;e++){if(null==this.overlay.context)return;this.overlay.context.fillStyle="red",this.overlay.context.font="12px sans-serif",this.overlay.context.textAlign="left",this.writeLabelX(e),this.writeGraphBar(t,e),this.writeDataAmount(e)}}writeLabelX(t){if(this.isTermMonthly(this.GraphArea.GraphData.term)){let e=this.GraphArea.GraphData.label[t].split("/");this.yearLabel==e[0]&&""!=this.yearLabel||(this.yearLabel=e[0],this.writeLabelXYear(t,e[0]+"年")),this.writeLabelXEach(t,e[1]+"月")}else if(this.isTermQuorter(this.GraphArea.GraphData.term)){let e=this.GraphArea.GraphData.label[t].split("/");this.yearLabel==e[0]&&""!=this.yearLabel||(this.yearLabel=e[0],this.writeLabelXYear(t,e[0]+"年")),this.writeLabelXEach(t,""+e[1])}}isTermMonthly(t){return t==this.Term.Monthly}isTermQuorter(t){return this.Term.Quorter}writeLabelXEach(t,e){null!=this.overlay.context&&this.overlay.context.fillText(e,this.GraphArea.BarSet.Bars[t].BarCoordinateX,this.GraphArea.BarLabelCoordinateY)}writeLabelXYear(t,e){if(null==this.overlay.context)return;this.overlay.context.fillText(e,this.keisenMargine+1.5*this.GraphArea.BarSet.BarMagine+(this.barBoxWidth+this.GraphArea.BarSet.BarMagine)*t,this.GraphArea.BarGroupLavelCoordinateY);let a=this.keisenMargine+this.GraphArea.BarSet.BarMagine+(this.barBoxWidth+this.GraphArea.BarSet.BarMagine)*t-.5*this.GraphArea.BarSet.BarMagine;null!=this.grid.context&&(this.overlay.context.strokeStyle=s,this.overlay.context.strokeStyle=o,this.overlay.context.beginPath(),this.overlay.context.moveTo(a,this.GraphArea.GraphXAxisCoordinateY-10),this.overlay.context.lineTo(a,this.GraphArea.GraphXAxisCoordinateY-10),this.overlay.context.lineTo(a,this.GraphArea.GraphXAxisCoordinateY+10),this.overlay.context.stroke())}writeGraphBar(t,e){let a;t.fillStyle="#81C784",a=this.GraphArea.BarSet.Bars[e].BarHeight>0?this.GraphArea.GraphXAxisCoordinateY+1:this.GraphArea.GraphXAxisCoordinateY-1,t.fillRect(this.GraphArea.BarSet.Bars[e].BarCoordinateX,a,this.GraphArea.BarSet.BarWidth,this.GraphArea.BarSet.Bars[e].BarHeight)}writeDataAmount(t){null!=this.overlay.context&&this.overlay.context.fillText(this.GraphArea.BarSet.Bars[t].BarNumber.toLocaleString(),this.GraphArea.BarSet.Bars[t].BarCoordinateX,this.GraphArea.BarSet.Bars[t].BarNumberCoordinateY)}drawGentenKeisen(t){null!=t&&(t.strokeStyle=s,t.strokeStyle=o,t.beginPath(),t.moveTo(this.GraphArea.GraphStartCoordinateX,this.GraphArea.GraphXAxisCoordinateY),t.lineTo(this.GraphArea.GraphStartCoordinateX,this.GraphArea.GraphXAxisCoordinateY),t.lineTo(this.GraphArea.GraphExndCoordinateX,this.GraphArea.GraphXAxisCoordinateY),t.stroke())}drow(t,e){if(null==e)return;e.clearRect(0,0,this.GraphArea.Width,this.GraphArea.Height),t.offsetX<=this.keisenMargine+this.GraphArea.BarSet.BarMagine?this.n.x=this.keisenMargine+this.GraphArea.BarSet.BarMagine:t.offsetX>=this.GraphArea.Width-this.rightMargin?this.n.x=this.GraphArea.Width-this.rightMargin:this.n.x=Math.floor((t.offsetX-this.keisenMargine)/(this.barBoxWidth+this.GraphArea.BarSet.BarMagine))*(this.barBoxWidth+this.GraphArea.BarSet.BarMagine)+(this.keisenMargine+this.GraphArea.BarSet.BarMagine),t.offsetY<this.keisenMargine?this.n.y=this.keisenMargine:t.offsetY>this.GraphArea.Height-this.keisenMargine?this.n.y=this.GraphArea.Height-this.keisenMargine:this.n.y=t.offsetY,e.fillStyle="#ccc",e.fillRect(this.n.x,this.keisenMargine,this.GraphArea.BarSet.BarWidth,this.GraphArea.GraphHeight);let a=Math.floor((t.offsetX-this.keisenMargine)/(this.barBoxWidth+this.GraphArea.BarSet.BarMagine));a<0?a=0:a>this.GraphArea.GraphData.label.length-1&&(a=this.GraphArea.GraphData.label.length-1),e.fillRect(this.keisenMargine,this.n.y,this.GraphArea.Width,1),e.fillStyle="red",e.font="12px sans-serif",e.textBaseline="bottom",e.fillText(""+this.convertLabel(this.GraphArea.GraphData.label[a]),this.n.x,this.keisenMargine-24),e.fillText(`${this.GraphArea.GraphData.value[a].toLocaleString()}${this.GraphArea.GraphData.unit}`,this.n.x,this.keisenMargine-10)}convertLabel(t){return`${t.split("/")[0]}年${t.split("/")[1]}月`}}},10:function(t,e,a){"use strict";a.r(e);var i=a(1),r=a(4),h=a.n(r),n=function(t,e,a,i){return new(a||(a=Promise))((function(r,h){function n(t){try{o(i.next(t))}catch(t){h(t)}}function s(t){try{o(i.throw(t))}catch(t){h(t)}}function o(t){var e;t.done?r(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(n,s)}o((i=i.apply(t,e||[])).next())}))};window.addEventListener("DOMContentLoaded",(function(){!function(){n(this,void 0,void 0,(function*(){const t=function(){const t=new URLSearchParams(window.location.search),e={name:"coincheck",target:"revenue"},a=t.get("name");null!=a&&(e.name=a);const i=t.get("target");null!=i&&(e.target=i);return e}(),e=yield function(t){return n(this,void 0,void 0,(function*(){const e=yield fetch(t);return yield e.json()}))}(`https://yamatoya.github.io/${t.name}/data.json`);!function(t,e){const a=document.getElementById("pageTitle");let i="";e.dataset.filter(e=>e.key===t.target).map(e=>{e.key==t.target&&("q"==e.term?i=`四半期 ${e.name} 推移`:"m"==e.term&&(i=`月間 ${e.name} 推移`))}),null!=a&&(a.innerText=i)}(t,e),function(t){const e=document.getElementById("companyName");if(null==e)return;e.innerText=t+" / yamaNote",e.href=`../${t}/index.html`,document.title=t+"ダッシュボード: yamaNonte"}(e.name),function(t,e){const a=document.getElementById("sideNav");if(null==a)return;const i=document.getElementById("sideTop");if(null==a)return;let r="";t.dataset.forEach(t=>{r+=`<li class="nav-item">\n                            <a class="nav-link" href="index.html?name=${e.name}&target=${t.key}">\n                                <span data-feather="${t.icon}"></span>\n                                ${t.name}\n                            </a>\n                        </li>`}),a.innerHTML=r,h.a.replace(),i.href=`../${e.name}/index.html`}(e,t),function(t){var e;const a=document.getElementById("companyQuarterDataTable");if(null==a)return;const i=document.getElementById("companyMonthlyDataTable");if(null==i)return;let r=a.createTHead().insertRow(0),h="<th>#</th>",n=i.createTHead(),s=n.insertRow(0),o="<th>#</th>",l=[],c=1;h+=null===(e=t.dataset.find(t=>"q"==t.term))||void 0===e?void 0:e.label.reduce((t,e)=>t+`<th>${e}</th>`),r.innerHTML=h,a.appendChild(r),t.dataset.filter(t=>"q"==t.term).map(t=>{let e=a.insertRow(0),i=`<td>${t.name}</td>`;i+=t.value.reduce((t,e)=>t+`<td>${e}</td>`),e.innerHTML=i,a.appendChild(e)}),t.dataset.filter(t=>"m"==t.term).map(t=>{const e=document.getElementById("monthlyTitle");if(null==e)return;e.innerText="月間データ推移",o+=`<th>${t.name}</th>`;let a=0;t.label.forEach(t=>{null==l[a]&&(l[a]=[]),l[a][0]=t,console.log(`k:${a}:${t}`),a++});let i=0;t.value.forEach(t=>{null==l[i]&&(l[i]=[]),l[i][c]=t,i++}),c++}),l.length>0&&(console.log(l),s.innerHTML=o,n.appendChild(s),l.forEach(t=>{let e=a.insertRow(0),r="";t.forEach(t=>{r+=`<td>${t}</td>`}),e.innerHTML=r,i.appendChild(e)}))}(e),function(t,e){const a=document.getElementById("graph");if(null==a)return;new i.a({container:a,originalData:t,targetKey:e}),console.log(t),console.log(e)}(e,t.target)}))}()}))}});