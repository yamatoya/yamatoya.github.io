!function(t){function e(e){for(var a,n,s=e[0],l=e[1],o=e[2],g=0,p=[];g<s.length;g++)n=s[g],Object.prototype.hasOwnProperty.call(h,n)&&h[n]&&p.push(h[n][0]),h[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);for(c&&c(e);p.length;)p.shift()();return r.push.apply(r,o||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],a=!0,s=1;s<i.length;s++){var l=i[s];0!==h[l]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=i[0]))}return t}var a={},h={0:0},r=[];function n(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=a,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var o=0;o<s.length;o++)e(s[o]);var c=l;r.push([10,1]),i()}({1:function(t,e,i){"use strict";class a{constructor(){this.icon="",this.key="",this.label=[],this.name="",this.term="",this.unit="",this.value=[]}}const h="#ccc",r="#000";e.a=class{constructor(t){this.BarWidth=30,this.barhMargine=10,this.keisenMargine=50,this.barBoxWidth=0,this.rightMargin=0,this.maxGraphWidth=30,this.yearLabel="",this.positiveGraphHeight=0,this.negativeGraphHeight=0,this.gentenHeight=0,this.scaleY=[],this.barLabelHeight=0,this.minGraphHeight=0,this.Term={Monthly:"m",Quorter:"q"},this.n={x:10,y:10};const{container:e,originalData:i,targetKey:h,LeftGraphAreaMagine:r=50,RightGraphAreaMagine:n=50,TopGraphAreaMagine:s=50,LowerGraphAreaMagine:l=50}=t;this.GraphArea=e,this.targetKey=h,this.graphData=new a,i.dataset.forEach(t=>{t.key==this.targetKey&&(this.graphData=t)}),this.GraphAreaHeight=this.GraphArea.clientHeight,this.GraphAreaWidth=this.GraphArea.clientWidth,this.LeftGraphAreaMagine=r,this.RightGraphAreaMagine=n,this.TopGraphAreaMagine=s,this.LowerGraphAreaMagine=l,this.GraphStartCoordinateX=this.LeftGraphAreaMagine,this.GraphExndCoordinateX=this.GraphAreaWidth-this.RightGraphAreaMagine,this.GraphHeight=this.GraphAreaHeight-this.TopGraphAreaMagine-this.LowerGraphAreaMagine,this.GraphWidth=this.GraphAreaWidth-r-n,this.GraphXAxisCoordinateY=0,this.canvases=[],this.overlay={canvas:document.createElement("canvas"),context:null},this.chart={canvas:document.createElement("canvas"),context:null},this.grid={canvas:document.createElement("canvas"),context:null},this._create()}_create(){this.overlay.context=this.overlay.canvas.getContext("2d"),this.canvases.push(this.overlay.canvas),this.chart.context=this.chart.canvas.getContext("2d"),this.canvases.push(this.chart.canvas),this.grid.context=this.grid.canvas.getContext("2d"),this.canvases.push(this.grid.canvas),this.canvases.reverse(),this.canvases.forEach(t=>{var e;null===(e=this.GraphArea)||void 0===e||e.appendChild(t)}),this.initial(this.GraphArea),this.overlay.canvas.addEventListener("mousemove",t=>{this.drow(t,this.grid.context)})}initial(t){null!=t&&(this.chart.canvas.width=this.GraphAreaWidth,this.chart.canvas.height=this.GraphAreaHeight,this.grid.canvas.width=this.GraphAreaWidth,this.grid.canvas.height=this.GraphAreaHeight,this.overlay.canvas.width=this.GraphAreaWidth,this.overlay.canvas.height=this.GraphAreaHeight,this.drawBar(this.chart.context,this.chart.canvas))}writeYAxis(t,e,i,a){null!=t&&(t.fillStyle="#0063B1",t.font="12px sans-serif",t.textAlign="end",t.fillText(a.toString(),e,i))}drawBar(t,e){if(null==t)return;const i=this.graphData.label.length;this.barBoxWidth=Math.round(this.GraphWidth/i)-this.barhMargine,this.BarWidth=Math.round(this.GraphWidth/i)-this.barhMargine>this.maxGraphWidth?this.maxGraphWidth:Math.round(this.GraphWidth/i)-this.barhMargine,this.rightMargin=this.GraphAreaWidth-(this.keisenMargine+(this.barBoxWidth+this.barhMargine)*i-this.barBoxWidth),this.barLabelHeight=e.height-this.keisenMargine+20;const a=Math.ceil(this.graphData.value.reduce((t,e)=>Math.max(t,e))),h=Math.ceil(this.graphData.value.reduce((t,e)=>Math.min(t,e)));this.scaleY=this.makeYaxis(h,a,10),this.gentenHeight=e.height-this.keisenMargine;for(let t=0;t<this.scaleY.length;t++)0==this.scaleY[this.scaleY.length-t-1]&&(this.gentenHeight=this.keisenMargine+Math.ceil(this.GraphHeight*(t+1)/this.scaleY.length)),this.minGraphHeight=this.keisenMargine+Math.ceil(this.GraphHeight/this.scaleY.length)*t;this.drawGentenKeisen(t,this.gentenHeight),this.positiveGraphHeight=this.gentenHeight-this.keisenMargine,this.negativeGraphHeight=this.minGraphHeight-this.gentenHeight;for(let e=0;e<i;e++){if(null==this.overlay.context)return;this.overlay.context.fillStyle="red",this.overlay.context.font="12px sans-serif",this.overlay.context.textAlign="left",this.writeLabelX(e),this.writeGraphBar(t,e),this.writeDataAmount(e)}}writeLabelX(t){if(this.isTermMonthly(this.graphData.term)){let e=this.graphData.label[t].split("/");this.yearLabel==e[0]&&""!=this.yearLabel||(this.yearLabel=e[0],this.writeLabelXYear(t,e[0]+"年")),this.writeLabelXEach(t,e[1]+"月")}else if(this.isTermQuorter(this.graphData.term)){let e=this.graphData.label[t].split("/");this.yearLabel==e[0]&&""!=this.yearLabel||(this.yearLabel=e[0],this.writeLabelXYear(t,e[0]+"年")),this.writeLabelXEach(t,""+e[1])}}isTermMonthly(t){return t==this.Term.Monthly}isTermQuorter(t){return this.Term.Quorter}writeLabelXEach(t,e){null!=this.overlay.context&&this.overlay.context.fillText(e,this.keisenMargine+1.5*this.barhMargine+(this.barBoxWidth+this.barhMargine)*t,this.barLabelHeight)}writeLabelXYear(t,e){if(null==this.overlay.context)return;this.overlay.context.fillText(e,this.keisenMargine+1.5*this.barhMargine+(this.barBoxWidth+this.barhMargine)*t,this.barLabelHeight+14);let i=this.keisenMargine+this.barhMargine+(this.barBoxWidth+this.barhMargine)*t-.5*this.barhMargine;null!=this.grid.context&&(this.overlay.context.strokeStyle=h,this.overlay.context.strokeStyle=r,this.overlay.context.beginPath(),this.overlay.context.moveTo(i,this.gentenHeight-10),this.overlay.context.lineTo(i,this.gentenHeight-10),this.overlay.context.lineTo(i,this.gentenHeight+10),this.overlay.context.stroke(),console.log(`sepa:${i}/min:${this.gentenHeight}`))}writeGraphBar(t,e){t.fillStyle="#81C784",t.fillRect(this.keisenMargine+this.barhMargine+(this.barBoxWidth+this.barhMargine)*e,this.graphData.value[e]>=0?this.gentenHeight-1:this.gentenHeight+1,this.BarWidth,this.graphData.value[e]>=0?-this.positiveGraphHeight*this.graphData.value[e]/this.scaleY[this.scaleY.length-1]:this.negativeGraphHeight*this.graphData.value[e]/this.scaleY[0])}writeDataAmount(t){null!=this.overlay.context&&this.overlay.context.fillText(this.graphData.value[t].toLocaleString(),this.keisenMargine+this.barhMargine+(this.barBoxWidth+this.barhMargine)*t,this.graphData.value[t]>=0?this.gentenHeight-this.positiveGraphHeight*this.graphData.value[t]/this.scaleY[this.scaleY.length-1]-10:this.gentenHeight+this.negativeGraphHeight*this.graphData.value[t]/this.scaleY[0]+20)}drawGentenKeisen(t,e){null!=t&&(t.strokeStyle=h,t.strokeStyle=r,t.beginPath(),t.moveTo(this.GraphStartCoordinateX,e),t.lineTo(this.GraphStartCoordinateX,e),t.lineTo(this.GraphExndCoordinateX,e),t.stroke())}makeYaxis(t,e,i=10){let a=[];t==e&&(t-=10,e+=10);i<2?i=2:i>2&&(i-=2);let h=(e-t)/i,r=Math.floor(Math.log10(h)),n=Math.pow(10,r),s=Math.floor(h/n+.5)*n,l=s*Math.floor(t/s),o=s*Math.ceil(e/s),c=l;for(;a.push(c),c+=s,!(c>o););return a}drow(t,e){if(null==e)return;e.clearRect(0,0,this.GraphAreaWidth,this.GraphAreaHeight),t.offsetX<=this.keisenMargine+this.barhMargine?this.n.x=this.keisenMargine+this.barhMargine:t.offsetX>=this.GraphAreaWidth-this.rightMargin?this.n.x=this.GraphAreaWidth-this.rightMargin:this.n.x=Math.floor((t.offsetX-this.keisenMargine)/(this.barBoxWidth+this.barhMargine))*(this.barBoxWidth+this.barhMargine)+(this.keisenMargine+this.barhMargine),t.offsetY<this.keisenMargine?this.n.y=this.keisenMargine:t.offsetY>this.GraphAreaHeight-this.keisenMargine?this.n.y=this.GraphAreaHeight-this.keisenMargine:this.n.y=t.offsetY,e.fillStyle="#ccc",e.fillRect(this.n.x,this.keisenMargine,this.BarWidth,this.GraphHeight);let i=Math.floor((t.offsetX-this.keisenMargine)/(this.barBoxWidth+this.barhMargine));i<0?i=0:i>this.graphData.label.length-1&&(i=this.graphData.label.length-1),e.fillRect(this.keisenMargine,this.n.y,this.GraphAreaWidth,1),e.fillStyle="red",e.font="12px sans-serif",e.textBaseline="bottom",e.fillText(""+this.convertLabel(this.graphData.label[i]),this.n.x,this.keisenMargine-24),e.fillText(`${this.graphData.value[i].toLocaleString()}${this.graphData.unit}`,this.n.x,this.keisenMargine-10)}convertLabel(t){return`${t.split("/")[0]}年${t.split("/")[1]}月`}}},10:function(t,e,i){"use strict";i.r(e);var a=i(1),h=i(4),r=i.n(h),n=function(t,e,i,a){return new(i||(i=Promise))((function(h,r){function n(t){try{l(a.next(t))}catch(t){r(t)}}function s(t){try{l(a.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?h(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,s)}l((a=a.apply(t,e||[])).next())}))};window.addEventListener("DOMContentLoaded",(function(){!function(){n(this,void 0,void 0,(function*(){const t=function(){const t=new URLSearchParams(window.location.search),e={name:"coincheck",target:"revenue"},i=t.get("name");null!=i&&(e.name=i);const a=t.get("target");null!=a&&(e.target=a);return e}(),e=yield function(t){return n(this,void 0,void 0,(function*(){const e=yield fetch(t);return yield e.json()}))}(`https://yamatoya.github.io/${t.name}/data.json`);!function(t,e){const i=document.getElementById("pageTitle");let a="";e.dataset.filter(e=>e.key===t.target).map(e=>{e.key==t.target&&("q"==e.term?a=`四半期 ${e.name} 推移`:"m"==e.term&&(a=`月間 ${e.name} 推移`))}),null!=i&&(i.innerText=a)}(t,e),function(t){const e=document.getElementById("companyName");if(null==e)return;e.innerText=t+" / yamaNote",e.href=`../${t}/index.html`,document.title=t+"ダッシュボード: yamaNonte"}(e.name),function(t,e){const i=document.getElementById("sideNav");if(null==i)return;const a=document.getElementById("sideTop");if(null==i)return;let h="";t.dataset.forEach(t=>{h+=`<li class="nav-item">\n                            <a class="nav-link" href="index.html?name=${e.name}&target=${t.key}">\n                                <span data-feather="${t.icon}"></span>\n                                ${t.name}\n                            </a>\n                        </li>`}),i.innerHTML=h,r.a.replace(),a.href=`../${e.name}/index.html`}(e,t),function(t){var e;const i=document.getElementById("companyQuarterDataTable");if(null==i)return;const a=document.getElementById("companyMonthlyDataTable");if(null==a)return;let h=i.createTHead().insertRow(0),r="<th>#</th>",n=a.createTHead(),s=n.insertRow(0),l="<th>#</th>",o=[],c=1;r+=null===(e=t.dataset.find(t=>"q"==t.term))||void 0===e?void 0:e.label.reduce((t,e)=>t+`<th>${e}</th>`),h.innerHTML=r,i.appendChild(h),t.dataset.filter(t=>"q"==t.term).map(t=>{let e=i.insertRow(0),a=`<td>${t.name}</td>`;a+=t.value.reduce((t,e)=>t+`<td>${e}</td>`),e.innerHTML=a,i.appendChild(e)}),t.dataset.filter(t=>"m"==t.term).map(t=>{const e=document.getElementById("monthlyTitle");if(null==e)return;e.innerText="月間データ推移",l+=`<th>${t.name}</th>`;let i=0;t.label.forEach(t=>{null==o[i]&&(o[i]=[]),o[i][0]=t,console.log(`k:${i}:${t}`),i++});let a=0;t.value.forEach(t=>{null==o[a]&&(o[a]=[]),o[a][c]=t,a++}),c++}),o.length>0&&(console.log(o),s.innerHTML=l,n.appendChild(s),o.forEach(t=>{let e=i.insertRow(0),h="";t.forEach(t=>{h+=`<td>${t}</td>`}),e.innerHTML=h,a.appendChild(e)}))}(e),function(t,e){const i=document.getElementById("graph");if(null==i)return;new a.a({container:i,originalData:t,targetKey:e}),console.log(t),console.log(e)}(e,t.target)}))}()}))}});